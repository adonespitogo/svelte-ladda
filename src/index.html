<button
  ref:btn
  class="{class}"
  data-style="style"
  data-color="color"
  data-size="size"
  data-spinner-size="spinnersize"
  data-spinner-color="spinnercolor"
  data-spinner-lines="spinnerlines">
  <slot></slot>
</button>

<script>
import Ladda from 'ladda';
export default {
  onstate({ changed, current, previous }) {
    // this fires before oncreate, and on every state change.
    // the first time it runs, `previous` is undefined
    if (typeof changed.when == 'boolean') {
      if (changed.when) {
        this.laddaBtn.start();
      } else {
        this.laddaBtn.stop();
      }
    }
  },
  oncreate() {
    let btn = this.refs.btn;
    this.laddaBtn = Ladda.create(btn);
  },
  data: () => {
    return {
    when: false,
    class: '',
    style: '',
    color: 'purple',
    size: '',
    spinnersize: null,
    spinnercolor: '#000',
    spinnerlines: 12
    }
  }
}
</script>
